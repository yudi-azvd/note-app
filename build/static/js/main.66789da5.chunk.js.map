{"version":3,"sources":["components/Note.js","components/Notification.js","services/notes.js","components/Footer.js","App.js","index.js"],"names":["Note","note","toggleImportance","label","important","className","onClick","content","Notification","message","axios","get","then","response","data","newObject","post","id","request","put","console","log","Footer","style","color","fontStyle","fontSize","flexShrink","marginTop","padding","background","App","useState","notes","setNotes","newNote","setNewNote","showAll","setShowAll","errorMessage","setErrorMessage","find","n","changedNote","noteService","returnedNote","map","catch","error","setTimeout","filter","useEffect","initialNotes","notesToShow","key","onSubmit","event","preventDefault","noteObject","date","Date","toISOString","length","concat","value","onChange","target","type","ReactDOM","render","document","getElementById"],"mappings":"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","file":"static/js/main.66789da5.chunk.js","sourcesContent":["import React from 'react'\n\nconst Note = ({ note, toggleImportance}) => {\n  const label = note.important ?\n    'make not important' : 'make important'\n  return (\n    <li className='note'>\n      <button onClick={toggleImportance}>{label}\n      </button> {note.content}\n    </li>\n  )\n}\n\nexport default Note","import React from 'react'\n\nconst Notification = ({ message }) => {\n  if(message === null)\n    return null\n  \n    return (\n      <div className='error'>\n        {message}\n      </div>\n    )\n}\n\nexport default Notification","import axios from 'axios'\n\nconst baseUrl = '/api/notes'\n/**\n * frontend: localhost:3000\n * backend : localhost:3001/api/notes\n * \n * But only using this baseUrl, the frontend will try\n * to fetch resources from localhost:3000/api/notes\n * although the real place to fetch from is \n * localhost:3000/api/notes\n * \n * Solution: use a proxy:\n */\n\n\nconst getAll = () => {\n  const request = axios.get(baseUrl)\n  // const nonExisting = {\n  //   id: 1000,\n  //   content: 'this note is not saved to server',\n  //   date: Date.now(),\n  //   important: true\n  // }\n  // return request.then(response => response.data.concat(nonExisting))\n  return request.then(response => response.data)\n}\n\nconst create = newObject => {\n  const request = axios.post(baseUrl, newObject)\n  return request.then(response => response.data)\n}\n\nconst update = (id, newObject) => {\n  const request = axios.put(`${baseUrl}/${id}`, newObject)\n  console.log(`${baseUrl}/${id}`);\n  console.log(request.then(response => console.log(response.data)));\n  return request.then(response => response.data)\n}\n\nexport default { getAll, create, update }\n\n","import React from 'react'\n\nconst Footer = () => {\n  const footerStyle = {\n    color:'green',\n    fontStyle: 'italic',\n    fontSize: 16,\n    flexShrink: 0,\n    marginTop: 20,\n    padding: '30px',\n    background: 'lightgrey'\n  }\n\n  /**\n   * sticky footer\n   * https://stackoverflow.com/questions/3443606/make-footer-stick-to-bottom-of-page-correctly\n   */\n\n  return (\n    <footer style={footerStyle}>\n      <em>\n        Note app, Department of Computer \n        Science, University of Helsinki \n        2019\n      </em>\n    </footer>\n  )\n}\n\nexport default Footer","import React, { useState, useEffect } from 'react'\n\nimport Note from './components/Note'\nimport Notification from './components/Notification'\n\nimport noteService from './services/notes'\nimport Footer from './components/Footer';\n\n\nconst App = () => {\n  const [notes, setNotes] = useState([])\n  const [newNote, setNewNote] = useState('a new note...')\n  const [showAll, setShowAll] = useState(true)\n  const [errorMessage,  setErrorMessage] = useState(null)\n\n  const toggleImportance = id => {\n    const note = notes.find(n => n.id === id)\n    // It is not recommended to modify note cause it is part of notes, \n    // which is part of the component's state. Changed not is a shallow\n    // copy of note.\n    const changedNote = { ...note, important: !note.important }\n    console.log('updating note with id', id);\n    noteService\n      .update(id, changedNote)\n      .then(returnedNote => {\n        setNotes(notes.map(note => note.id !== id ? note:returnedNote))\n      })\n      .catch(error => {\n        setErrorMessage(`Note ${note.content} was already removed from server`)\n        setTimeout(() => {\n          setErrorMessage(null)\n        }, 5000)\n        setNotes(notes.filter(n => n.id !== id))\n      })\n  }\n\n  useEffect(() => {\n    noteService\n      .getAll()\n      .then(initialNotes => {\n        setNotes(initialNotes)\n      })\n  }, [])\n\n  const notesToShow = showAll ?\n    notes : notes.filter(note => note.important)\n\n  const rows = () => notesToShow.map(note => \n    <Note \n      key={note.id} \n      note={note} \n      toggleImportance={() => toggleImportance(note.id)}\n    />\n  )\n\n  const addNote = (event) => {\n    event.preventDefault()\n    const noteObject = {\n      content: newNote,\n      date: new Date().toISOString(),\n      important: false,\n      id: notes.length+1,\n    }\n\n    noteService\n      .create(noteObject)\n      .then(returnedNote => {\n        setNotes(notes.concat(returnedNote))\n        setNewNote('')\n      })\n  }\n\n  const handleNoteChange = (event) => {\n    // syncs changes made to input with the component's state\n    setNewNote(event.target.value)    \n  }\n  return (\n    <div className='main'>\n      <div className='content'>\n      <h1>Notes</h1>\n        <Notification message={errorMessage} />\n\n        <div>\n          <button onClick={() => setShowAll(!showAll)}>\n            show {showAll ? 'important' : 'all'}\n          </button>\n        </div>\n        <ul>\n          {rows()}\n        </ul>\n\n        <form onSubmit={addNote}>\n          <input \n            value={newNote} \n            onChange={handleNoteChange}\n          />\n          <button type='submit'>save</button>\n        </form>\n      </div>\n      <Footer />      \n    </div>\n  )\n}\n\nexport default App\n\n","import React from 'react'\nimport ReactDOM from 'react-dom'\n\nimport './index.css'\nimport App from './App'\n\n\n\nReactDOM.render(<App />, document.getElementById('root'))"],"sourceRoot":""}